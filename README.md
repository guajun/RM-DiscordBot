# Bot

# 需求
## General
* 存储人员数据，集中管理
  * Junior, Senior 身份
  * itsc
  * gmail
  * school
  * major
  * ....
* 根据用户权限，允许/禁止 操作
  * 细节待定
  * 例如，Junior不能查看其他人的itsc，只能查看/修改自己的，而Senior可以查看所有人的

* 允许用户通过google sheet 查看、更新数据库中的人员数据

* 战队通过谷歌的问卷等，收集人员信息时，自动同步至数据库
  * 例如，gmail，discord名称
    >如果不能实时监测问卷对应的sheet内容，就周期性检测或者给用户一个确认键

* 日志，log操作
  * 分级

## Order, Review
* 用户 创建/修改/查看/删除 购买请求（称为Order）
   *  interface: Discord + google sheet
   *  一般情况下，用户在 创建/修改/查看/删除 购买请求时，通过google sheet 操作购买请求中的数据
   *  特殊情况下，用户可以通过Discord 机器人操作购买请求，此类操作比较简单，Discord足够实现
      *  例如，为Order添加Shipment，添加快递单号，Reviewer review Order
* 购买请求创建后，自动通知reviewer
* 自动通知请求创建者review结果
## Shipment
* 用户 为Order添加Shipment 数据，例如快递单号、目的地
* 自动通知集运负责人Order中添加的快递单号
  * 当集运负责人确认已经集运/送达，为用户的Shipment更新状态后，自动通知对应的用户

## Recruitment
* 服务器新成员加入时，自动收集一定的信息，尝试与数据库中已有的信息匹配并自动更新其身分组
  * 例如：在招新过程中，某新生使用科大问卷进行注册登记，此时他存在于微信群以及战队的数据库，但是不在discord服务器。当他正式加入战队，按照要求加入discord时，机器人根据他先前在战队登记的discord账号信息，将这个discord账户和数据库中的人员信息进行匹配，自动更新他的身份组


# 模块
## 日志

## 数据导入、导出、比对
导入、导出、比对的数据库的脚本
### 导入
目前，应该以Google sheet为准来设置人员数据
导入完成后，自动读取discord信息，添加discord方面的数据


* 比对（后台）
* 后台批量导出
* 可根据信息等级进行查询

## 物流信息更新

## 物流信息通知

## 财务审批请求

## 财务审批应答

## 基类：数据库读写、通知
* 有对应数据库的数据校验功能

核心：两件事，和数据库IO，和人IO

